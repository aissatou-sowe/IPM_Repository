{"version":3,"sources":["./src/app/Services/facture.service.ts","./src/app/gestion-factures/certification/certification.component.css","./src/app/Models/IPM_Facture.ts","./src/app/gestion-factures/certification/certification.component.html","./src/app/gestion-factures/certification/certification.component.ts"],"names":[],"mappings":"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","file":"default~gestion-factures-gestion-factures-module~remboursements-remboursements-module.js","sourcesContent":["import { HttpClient,HttpErrorResponse } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Employe } from '../Models/Employe';\r\nimport { IPM_Details_Facture } from '../Models/IPM_Detils_Factures';\r\nimport { Facture } from '../Models/IPM_Facture';\r\nimport { Remboursement } from '../Models/IPM_Remboursement';\r\nimport { IPM_DetaRembourse } from '../Models/IPM_DetaRembourse';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FactureService {\r\n\r\n  constructor(private http:HttpClient) { }\r\n\r\n  public AjoutFacture(facture){\r\n    \r\n    return this.http.post(environment.URL+'facture',facture,{responseType: 'text' as 'json'})\r\n  }\r\n  public AjoutDetailsFacture(detailfacture:IPM_Details_Facture[]){\r\n    \r\n    return this.http.post(environment.URL+'adddetailsfacture',detailfacture,{responseType: 'text' as 'json'})\r\n    .pipe(\r\n      catchError((this.erroHandler)\r\n      \r\n      \r\n    ))\r\n  ;\r\n  }\r\n  public AjoutRembour(Remboursement:Remboursement){\r\n    \r\n    return this.http.post(environment.URL+'remboursement',Remboursement,{responseType: 'text' as 'json'})\r\n    .pipe(\r\n      catchError((this.erroHandler)\r\n      \r\n      \r\n    ))\r\n  ;\r\n  }\r\n  \r\n  public AjoutdetaRembour(listRembourse:IPM_DetaRembourse[]){\r\n    \r\n    return this.http.post(environment.URL+'adddetailsremboursement',listRembourse,{responseType: 'text' as 'json'})\r\n    .pipe(\r\n      catchError((this.erroHandler)\r\n      \r\n      \r\n    ))\r\n  ;\r\n  }\r\n  erroHandler(error: HttpErrorResponse) {\r\n    return throwError(error.message || 'erreur de telechargement de fichier');\r\n  }\r\n  \r\n  public getAllFacture():Observable<IPM_Details_Facture[]>{\r\n    return this.http.get<IPM_Details_Facture[]>(environment.URL+'detailsfactures');\r\n  }\r\n  public getAllFactureglobale():Observable<Facture[]>{\r\n    return this.http.get<IPM_Details_Facture[]>(environment.URL+'allfacture');\r\n  }\r\n  public getAllRemboursementGlobal():Observable<Remboursement[]>{\r\n    return this.http.get<Remboursement[]>(environment.URL+'remboursement');\r\n  }\r\n\r\n  public getAllFactbyfactglobale(idfac:number):Observable<IPM_Details_Facture[]> {\r\n    \r\n    return this.http.get<IPM_Details_Facture[]>(environment.URL+'detailsfacture/'+idfac);\r\n  }\r\n  public getAllremboursbyrembourseglobale(idremb:number):Observable<IPM_DetaRembourse[]> {\r\n    \r\n    return this.http.get<IPM_Details_Facture[]>(environment.URL+'Detailremboursement/'+idremb);\r\n  }\r\n  public Updateremboursement(remb:Remboursement){\r\n    \r\n    return this.http.put(environment.URL+'remboursement',remb)\r\n  }\r\n  public UpdateFacture(facture:Facture){\r\n    \r\n    return this.http.put(environment.URL+'updatefacture',facture,{responseType: 'text' as 'json'})\r\n  }\r\n\r\n  public getFactureById(idfac:number):Observable<Facture>{\r\n    return this.http.get<Facture>(environment.URL+'getfacture/'+idfac) ;}\r\n    public deleteById(idfac:number):Observable<Facture>{\r\n      return this.http.delete<Facture>(environment.URL+'facture/'+idfac) ;}\r\n      \r\n      public deleterembById(idfac:number):Observable<Remboursement>{\r\n        return this.http.delete<Remboursement>(environment.URL+'remboursement/'+idfac) ;}\r\n\r\n      public updateLemploye(lEmploye:Employe[]){\r\n    \r\n        return this.http.put(environment.URL+'updateLEmploye',lEmploye,{responseType: 'text' as 'json'})\r\n      }\r\n      public updateLdetailFacture(ldetail:IPM_Details_Facture[]){\r\n    \r\n        return this.http.put(environment.URL+'updateList',ldetail,{responseType: 'text' as 'json'})\r\n      }\r\n      public updateOnEmploye(Employe: Employe){\r\n        return this.http.put(environment.URL+'employe',Employe)\r\n    \r\n         \r\n      }\r\n      public updateOnglobal(Empl: Remboursement){\r\n        return this.http.put(environment.URL+'upremboursement',Empl)\r\n    \r\n         \r\n      }\r\n      public getEmployeById(idemp: number):Observable<Employe>{\r\n        return this.http.get<Employe>(environment.URL+'employes/'+idemp) \r\n       \r\n      }\r\n      public updateDetailfact(ipm_detail: IPM_Details_Facture){\r\n        return this.http.put(environment.URL+'updateDetail',ipm_detail)\r\n    \r\n         \r\n      }\r\n  \r\n}\r\n","export default \"/* .modal1 {\\r\\n    max-width: 1200px;\\r\\n    margin: 1.\\r\\n    75rem auto;\\r\\n} */\\r\\n#edit{\\r\\n    background-color: rgb(0, 0, 255);\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2VzdGlvbi1mYWN0dXJlcy9jZXJ0aWZpY2F0aW9uL2NlcnRpZmljYXRpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBQ0g7SUFDSSxnQ0FBZ0M7QUFDcEMiLCJmaWxlIjoic3JjL2FwcC9nZXN0aW9uLWZhY3R1cmVzL2NlcnRpZmljYXRpb24vY2VydGlmaWNhdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogLm1vZGFsMSB7XHJcbiAgICBtYXgtd2lkdGg6IDEyMDBweDtcclxuICAgIG1hcmdpbjogMS5cclxuICAgIDc1cmVtIGF1dG87XHJcbn0gKi9cclxuI2VkaXR7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMCwgMjU1KTtcclxufSJdfQ== */\";","import { Employe } from \"./Employe\";\r\nimport { Prestataire } from \"./Prestataire\";\r\nimport { Prestation } from \"./Prestations\";\r\n\r\nexport class Facture{\r\n    constructor(\r\n        public idfacture?:number,\r\n        // public code_acte?:string,\r\n         public numerofacture?:number,\r\n         public dateFacture?:Date,\r\n         public dateSaisie?:Date,\r\n        // public matricule?:string,\r\n        // public montant_facture?:number,\r\n        // public taux_ipm?:number,\r\n         public part_ipm?:number,\r\n         public part_patient?:number,\r\n        // public tarification?:number,\r\n        public ipm_prestataire?:Prestataire,\r\n        // public ipm_prestation?:Prestation,\r\n        // public ipm_employe?:Employe ,\r\n        public certifier?:boolean ,\r\n        //public ipm_details_factures?:any,\r\n        public montantTotal?:number\r\n\r\n    ){}\r\n}","export default \"<style>\\r\\n    tr{font-weight: bold;}\\r\\n</style>\\r\\n<div class=\\\"col-md-12 mt-5\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n        <div class=\\\"card-header card-header-icon\\\" >\\r\\n            <div class=\\\"card-icon\\\" style=\\\"background-color:rgba(17, 17, 227, 0.88)\\\">\\r\\n              <i class=\\\"material-icons\\\">list</i>\\r\\n            </div>\\r\\n            <h2 style=\\\"background-color:whitesmoke; color: black; pading: 2px; width: 100%;\\\"> Facture numero :{{numero}} \\r\\n                <button mat-raised-button  style=\\\"float: right;\\\" class=\\\"btn btn-fill btn-success\\\" data-dismiss=\\\"modal\\\" (click)=\\\"CertifierEmploye()\\\"\\r\\n                *ngIf=\\\"certifier!=true else test\\\">Certifier\\r\\n                </button>\\r\\n            \\r\\n            \\r\\n            \\r\\n            <ng-template #test>\\r\\n                <h4 class=\\\" text-white text-center bg-success p-2\\\" style=\\\"float: right; font-size: 20px;\\\">\\r\\n                    <i class=\\\"material-icons\\\">checked</i>\\r\\n                    la facture est déja certfiée\\r\\n                </h4>\\r\\n            </ng-template> </h2>\\r\\n\\r\\n            \\r\\n          </div>\\r\\n        <div class=\\\"material-datatable\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n\\r\\n\\r\\n\\r\\n                <table id=\\\"datatable\\\" class=\\\"table table-hover table-bordered\\\" cellspacing=\\\"0\\\"\\r\\n                    width=\\\"100%\\\" style=\\\"width:100%\\\">\\r\\n\\r\\n                    <thead>\\r\\n\\r\\n                        <tr style=\\\"background-color: whitesmoke\\\">\\r\\n                            \\r\\n                            <th class=\\\"text-center\\\" cope=\\\"col\\\" ><b>Matricule</b></th>\\r\\n                            <th class=\\\"text-center\\\" cope=\\\"col\\\"><b>Prenom</b></th>\\r\\n                            <th class=\\\"text-center\\\" cope=\\\"col\\\"><b>Nom</b></th>\\r\\n                            <th class=\\\"text-center\\\" cope=\\\"col\\\"><b>Prestation</b></th>\\r\\n                            <!-- <th cope=\\\"col\\\">Code Prestation</th> -->\\r\\n\\r\\n                            <th class=\\\"text-center\\\" cope=\\\"col\\\"><b>Montant Facture</b></th>\\r\\n                            <th class=\\\"text-center\\\" cope=\\\"col\\\"><b>Charge_ipm</b></th>\\r\\n                            <th class=\\\"text-center\\\" cope=\\\"col\\\"><b>Charge_agent</b></th>\\r\\n                         <!-- <th class=\\\"text-center\\\" cope=\\\"col\\\"><b>Date</b></th> -->\\r\\n                            <th class=\\\"text-center\\\" cope=\\\"col\\\"><b>Action</b></th>\\r\\n\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let fact of listFactures\\\">\\r\\n                            <td class=\\\"text-center\\\">{{fact.ipm_employe?.matricule}}</td>\\r\\n                            <td class=\\\"text-center\\\">{{fact.ipm_employe?.prenom}}</td>\\r\\n                            <td class=\\\"text-center\\\">{{fact.ipm_employe?.nom}}</td>\\r\\n                            <td class=\\\"text-center\\\">{{fact.ipm_prestation?.libelle}}</td>\\r\\n                            <!-- <td>{{fac.ipm_prestation?.code_prestation}}</td>\\r\\n                         -->\\r\\n                            <td class=\\\"text-center\\\">{{fact.montant_facture | number:'.2'}}</td>\\r\\n                            <td class=\\\"text-center\\\">{{fact.part_ipm | number:'.2'}}</td>\\r\\n                            <td class=\\\"text-center\\\">{{fact.part_patient | number:'.2'}}</td>\\r\\n                            <!-- <td class=\\\"text-center\\\">{{fact.date_facture}}</td> -->\\r\\n                            <td class=\\\"td_actions text-right\\\">\\r\\n                                <button mat-raised-button (click)=\\\"getFactureById(fact)\\\" type=\\\"button\\\"\\r\\n                                    class=\\\"btn btn-round btn-xs\\\" id=\\\"edit\\\">\\r\\n                                    <i class=\\\"material-icons\\\" data-toggle=\\\"modal\\\"\\r\\n                                        data-target=\\\"#Modal2\\\">help</i></button>\\r\\n                                        \\r\\n                                             \\r\\n                            </td>\\r\\n                            <!-- <td>\\r\\n                            <div [ngSwitch]=\\\"fac.certifier\\\" *ngIf=\\\"\\\">\\r\\n                                <div *ngSwitchCase=\\\"true\\\">\\r\\n                                    \\r\\n                                  <mat-checkbox checked=\\\"true\\\"></mat-checkbox>\\r\\n                                </div>\\r\\n                                \\r\\n                                <div *ngSwitchDefault>\\r\\n                                    \\r\\n                                  <mat-checkbox (click)=\\\"getCertified(fac)\\\"></mat-checkbox>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                          \\r\\n                        </td> -->\\r\\n\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                \\r\\n\\r\\n                </table>\\r\\n                <button mat-raised-button class=\\\"btn btn-fill btn-success btn-round\\\" \\r\\n                style=\\\"margin-right: 28.5cm;\\\" (click)=\\\"imprimerfacture()\\\">imprimer\\r\\n               </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n<button mat-raised-button class=\\\"btn btn-fill btn-danger\\\"  style=\\\"margin-left: 28.5cm;\\\" (click)=\\\"retourner()\\\"\\r\\n    >retour\\r\\n</button>\\r\\n\\r\\n\\r\\n\\r\\n<!--formulaire-->\\r\\n<div class=\\\"modal fade\\\" id=\\\"Modal2\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\" aria-hidden=\\\"true\\\">\\r\\n    <div class=\\\"modal-dialog\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-success\\\">\\r\\n                <h4 class=\\\"modal-title text-white\\\" id=\\\"Modal2\\\" style=\\\"font-weight:bold;\\\">Detail\\r\\n                </h4>\\r\\n                <button mat-button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">\\r\\n                    <i class=\\\"material-icons\\\">close</i>\\r\\n                </button>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-12 col-sm-offset-2\\\">\\r\\n                        <form>\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"nom\\\">nom :{{nom}}</label>\\r\\n\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group col-md-2\\\"></div>\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"prenom\\\">prenom :\\r\\n                                        {{prenom}}</label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Matricule\\\">Matricule\\r\\n                                        :{{matricule}}</label>\\r\\n\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group col-md-2\\\"></div>\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Prestation\\\">Prestation :\\r\\n                                        {{prestation}}</label>\\r\\n\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Prestataire\\\">Prestataire\\r\\n                                        {{prestataire}}</label>\\r\\n\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group col-md-2\\\"></div>\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Date de Facture\\\">Date de\\r\\n                                        Facture : {{dateFacture}}</label>\\r\\n\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Date d'enregistrement\\\">Date\\r\\n                                        d'enregistremen: {{dateEnregistrement}}</label>\\r\\n\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group col-md-2\\\"></div>\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Montant\\\">Montant\\r\\n                                        :{{montant}}</label>\\r\\n\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Part IPM\\\">Part IPM\\r\\n                                        :{{part_ipm}}</label>\\r\\n\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group col-md-2\\\"></div>\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Part Patient\\\">Part Patient\\r\\n                                        :{{part_patient}}</label>\\r\\n\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Solde\\\">SOLDE\\r\\n                                        :{{solde}}</label>\\r\\n\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group col-md-2\\\"></div>\\r\\n                                <div class=\\\"form-group col-md-5\\\">\\r\\n                                    <label style=\\\"font-weight:bold;\\\" for=\\\"Cumul Charge\\\">Cumul Charge\\r\\n                                        :{{cumulCharge}}</label>\\r\\n\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                        </form>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n<!--end formulaire-->\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { sum } from 'chartist';\r\nimport jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport { ObjectUnsubscribedError } from 'rxjs';\r\nimport { IPM_Details_Facture } from 'src/app/Models/IPM_Detils_Factures';\r\nimport { FactureService } from 'src/app/Services/facture.service';\r\nimport { Employe } from '../../Models/Employe';\r\nimport { Facture } from '../../Models/IPM_Facture';\r\ntype AOA = any;\r\ndeclare var $;\r\n@Component({\r\n  selector: 'app-certification',\r\n  templateUrl: './certification.component.html',\r\n  styleUrls: ['./certification.component.css']\r\n})\r\nexport class CertificationComponent implements OnInit {\r\nid;\r\nlistFactures:IPM_Details_Facture[];\r\n  date1: string;\r\n  nom: any;\r\n  prenom: any;\r\n  matricule: any;\r\n  prestation: any;\r\n  prestataire: any;\r\n  part_ipm: any;\r\n  montant: any;\r\n  part_patient: any;\r\n  dateFacture: any;\r\n  dateEregistrement: any;\r\n  dateEnregistrement: any;\r\n  solde: any;\r\n  cumulCharge: any;\r\n  chargeEmploie=[];\r\n  numFacture: any;\r\n  detailfacture: any;\r\n  certifier:boolean;\r\n  list: IPM_Details_Facture[];\r\n  isCheik:boolean=false;\r\n  listDetail:Employe[]\r\n  Emploie: any;\r\n  undetailfacture: any;\r\n  listEmploie=[];\r\n  booleanCerti: any;\r\n  listCertifier=[];\r\n  liste;\r\n  facture=new Facture();\r\n  elements: IPM_Details_Facture[];\r\n  table;\r\n  fac;\r\n  id1: any;\r\n  listFactureCertif: IPM_Details_Facture[];\r\n  numero: any;\r\n  objetEmploye: Employe;\r\n  update: Employe;\r\n  constructor(private fact_service:FactureService,private route : ActivatedRoute,private router:Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.id=this.route.snapshot.params['id'];\r\n   // this.id1=this.route.snapshot.params['id2'];\r\n    //(<any>$('#datatable')).dataTable().fnDestroy(); \r\n    console.log(this.id)\r\n    this.fact_service.getAllFactbyfactglobale(this.id).subscribe(data=>{\r\n      this.listFactures=data;\r\n      console.log(data)\r\n      $(function(){\r\n        (<any>$('#datatable')).DataTable({\r\n            \"pagingType\": \"full_numbers\",\r\n             \"lengthMenu\": [\r\n               [10, 25, 50, -1],\r\n               [10, 25, 50, \"All\"]\r\n             ],\r\n             responsive: true,\r\n             retrieve:true,\r\n             language: {\r\n               search: \"_INPUT_\",\r\n               searchPlaceholder: \"Recherche\",\r\n               info: \" _START_/_END_ sur _TOTAL_ demandes\",\r\n               paginate: {\r\n                \"first\":        \"Début\",\r\n                \"previous\":     \"Précédent\",\r\n                \"next\":         \"Suivant\",\r\n                \"last\":         \"Fin\"\r\n            },\r\n            lengthMenu:\"Afficher par _MENU_\",\r\n            infoFiltered:\"\"\r\n             },\r\n             \r\n        \r\n           });\r\n           \r\n      }); \r\n         \r\n        console.log(this.listFactures)\r\n        for(let lf of this.listFactures){\r\n          this.certifier=lf.ipmFacture.certifier\r\n          this.facture=lf.ipmFacture\r\n          this.numero =lf.ipmFacture.numerofacture\r\n         \r\n        }\r\n      }\r\n    );\r\n    //this.fact_service.getFactureById(this.id).subscribe((data)=>{\r\n      \r\n    //   this.fac=data\r\n    //   this.certifier=this.listFactures.ipmFacture.certifier\r\n    //   =this.fac\r\n    // })\r\n    \r\n    \r\n    \r\n   \r\n    //(<any>$('#datatable1')).dataTable().fnDestroy();\r\n  }\r\n  CertifierEmploye(){\r\n    console.log(this.facture,this.certifier)\r\n    this.listFactureCertif=this.listFactures\r\n    this.facture.certifier=true;\r\n    console.log(this.facture)\r\n    //a revoir apres la présentattion\r\n     this.fact_service.UpdateFacture(this.facture).subscribe(\r\n      (data)=>{\r\n        this.ngOnInit();\r\n      }\r\n\r\n    )\r\n    // this.fact_service.updateOnEmploye(this.chargeEmploie).subscribe(\r\n    //  (data)=>{\r\n        console.log(this.listFactureCertif)\r\n        // for (let index = 0; index < array.length; index++) {\r\n        //   const element = array[index];\r\n          \r\n        // }                                                                            \r\n  for (let index = 0; index < this.listFactureCertif.length; index++) {\r\n    this.fact_service.getEmployeById(this.listFactureCertif[index].ipm_employe.idemp).subscribe((data)=>{\r\n      this.objetEmploye=data\r\n     // console.log(this.listFactureCertif[index].ipm_employe.idemp,this.objetEmploye)\r\n    // this.listFactureCertif[index]\r\n    console.log(this.objetEmploye.solde);\r\n      this.objetEmploye.solde+=this.listFactureCertif[index].part_patient\r\n      this.objetEmploye.cumul_charge+=this.listFactureCertif[index].part_patient\r\n     // //this.chargeEmploie.push({...index.ipm_employe})\r\n     // //console.log(this.chargeEmploie);\r\n     this.update=this.objetEmploye\r\n     console.log(this.update,this.update.solde);\r\n     // console.log(this.objetEmploye,this.objetEmploye.solde,this.update);\r\n     // debugger\r\n       this.fact_service.updateOnEmploye(this.update).subscribe(data=>{this. showALERTE(\"top\",\"center\")},\r\n         err=>{this. showALERTE2(\"top\",\"center\")})\r\n    })\r\n    //this.fact_service.updateLemploye(this.chargeEmploie).subscribe(data=>{this. showALERTE(\"top\",\"center\")},\r\n      //err=>{this. showALERTE2(\"top\",\"center\")})\r\n      //  (data)=>{\r\n    //this.elements.push(element);\r\n  }\r\n}\r\n  //console.log(this.elements);\r\n\r\n\r\n  \r\n  getFactureById(fact){\r\n    console.log(fact)\r\n    fact.ipm_employe.solde+=fact.part_patient\r\n    fact.ipm_employe.cumul_charge+=fact.part_patient\r\n\r\n    console.log(fact.ipm_employe.solde,fact);\r\n    this.nom=fact.ipm_employe.nom\r\n    this.prenom=fact.ipm_employe.prenom\r\n    this.matricule=fact.ipm_employe.matricule\r\n    this.prestation=fact.ipm_prestation.libelle\r\n    this.montant=fact.montant_facture\r\n    this.part_ipm=fact.part_ipm\r\n    this.part_patient=fact.part_patient\r\n    this.dateFacture=fact.ipmFacture.date_facture\r\n    this.dateEnregistrement=fact.ipmFacture.date_saisie\r\n    this.prestataire=fact.ipmFacture.ipm_prestataire.nom_prestataire\r\n    this.numFacture=fact.ipmFacture.numerofacture\r\nthis.solde=fact.ipm_employe.solde\r\nthis.cumulCharge=fact.ipm_employe.cumul_charge\r\nthis.detailfacture=fact\r\n   // this.chargeEmploie=fac.ipm_employe\r\n    //this.certifier=this.detailfacture.certifier\r\n\r\n  }\r\n \r\n  getCertified(certifier){\r\n    this.booleanCerti=certifier//pour pouvoir changer le boolean certifier\r\n    certifier.ipm_employe.solde+=certifier.part_patient\r\n    certifier.ipm_employe.cumul_charge+=certifier.part_patient\r\n    this.undetailfacture=certifier\r\n    this.Emploie=certifier.ipm_employe\r\n\r\n    this.booleanCerti.certifier=true\r\n    this.booleanCerti.ipm_employe=certifier.ipm_employe\r\n    this.listCertifier.push(this.booleanCerti)\r\n\r\n    this.listDetail.push(certifier)\r\n    console.log(this.listDetail)\r\n    this.listEmploie.push(this.Emploie)\r\n    //this.booleanCerti=certifier\r\n\r\n    //console.log(this.listEmploie)\r\n\r\n\r\n\r\n  }\r\n  certifiGlobal(){\r\n    console.log(this.listEmploie)\r\n    this.fact_service.updateLemploye(this.listEmploie).subscribe(\r\n      (data)=>{}\r\n    )\r\n    console.log(this.listCertifier)\r\n    this.fact_service.updateLdetailFacture(this.listCertifier).subscribe(\r\n      (data)=>{}\r\n    )\r\n\r\n  }\r\n  retourner(){\r\n    this.router.navigate(['/gestion-factures/ListeFacture']);\r\n  }\r\n  showALERTE2(from: any, align: any) {\r\n    const type = ['', 'success', 'warning', 'danger', 'info', 'rose', 'primary'];\r\n\r\n    // const color = Math.floor((Math.random() * 6) + 1);\r\n\r\n    $.notify({\r\n      icon: 'notifications',\r\n      message: '<b>Erreure d enregistrement  </b> :'\r\n    }, {\r\n      type: type[3],\r\n      timer: 13000,\r\n      placement: {\r\n        from: from,\r\n        align: align\r\n      },\r\n      template: '<div data-notify=\"container\" class=\"col-xs-14 col-sm-6 alert alert-{0} alert-with-icon\" role=\"alert\">' +\r\n        '<button mat-raised-button type=\"button\" aria-hidden=\"true\" class=\"close\" data-notify=\"dismiss\">  <i class=\"material-icons\">close</i></button>' +\r\n        '<i class=\"material-icons\" data-notify=\"icon\">notifications</i> ' +\r\n        '<span data-notify=\"title\">{1}</span> ' +\r\n        '<span data-notify=\"message\">{2}</span>' +\r\n        '<div class=\"progress\" data-notify=\"progressbar\">' +\r\n        '<div class=\"progress-bar progress-bar-{0}\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%;\"></div>' +\r\n        '</div>' +\r\n        '<a href=\"{3}\" target=\"{4}\" data-notify=\"url\"></a>' +\r\n        '</div>'\r\n    });\r\n  }\r\n  showALERTE(from: any, align: any) {\r\n    const type = ['', 'success', 'warning', 'danger', 'info', 'rose', 'primary'];\r\n\r\n    // const color = Math.floor((Math.random() * 6) + 1);\r\n\r\n    $.notify({\r\n      icon: 'notifications',\r\n      message: '<b> facture  certifié avec succès </b> :'\r\n    }, {\r\n      type: type[1],\r\n      timer: 13000,\r\n      placement: {\r\n        from: from,\r\n        align: align\r\n      },\r\n      template: '<div data-notify=\"container\" class=\"col-xs-14 col-sm-6 alert alert-{0} alert-with-icon\" role=\"alert\">' +\r\n        '<button mat-raised-button type=\"button\" aria-hidden=\"true\" class=\"close\" data-notify=\"dismiss\">  <i class=\"material-icons\">close</i></button>' +\r\n        '<i class=\"material-icons\" data-notify=\"icon\">notifications</i> ' +\r\n        '<span data-notify=\"title\">{1}</span> ' +\r\n        '<span data-notify=\"message\">{2}</span>' +\r\n        '<div class=\"progress\" data-notify=\"progressbar\">' +\r\n        '<div class=\"progress-bar progress-bar-{0}\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%;\"></div>' +\r\n        '</div>' +\r\n        '<a href=\"{3}\" target=\"{4}\" data-notify=\"url\"></a>' +\r\n        '</div>'\r\n    });\r\n  }\r\n    ///////////////////////// Imprimer Duplicata facture\r\n  imprimerfacture(){\r\n  console.log(this.listFactures)\r\n  let doc=new jsPDF();\r\n  //var imgData = '/assets/img_poste/laposte.png'\r\n  var imgData ='/ipm-fronte/assets/img_poste/laposte.png'\r\n\r\n  let col=[[\"Matricule\",\"Prenom\",\"Nom\",\"Prestation\",\"Montant Facture\",\"Charge IPM\",\"Charge Agent\"]]\r\n  let rows=[]\r\n  for (let factemp of this.listFactures) {\r\n    let tmp = [factemp.ipm_employe?.matricule, factemp.ipm_employe?.prenom, factemp.ipm_employe?.nom, factemp.ipm_prestation?.libelle, factemp.montant_facture, factemp.part_ipm, factemp.part_patient]\r\n    rows.push(tmp)\r\n    var prestataire=factemp.ipmFacture?.ipm_prestataire.nom_prestataire;\r\n  \r\n  }\r\n  var somme=this.listFactures.reduce((sum,current)=>sum+current.montant_facture,0)\r\n  var sommeCharagent=this.listFactures.reduce((sum,current)=>sum+current.part_ipm,0)\r\n  var sommeChargeIPM=this.listFactures.reduce((sum,current)=>sum+current.part_patient,0)\r\n  console.log(somme);\r\n  let f=[[\"\",\"\",\"\",\"Total Montants\",somme,sommeCharagent,sommeChargeIPM]]\r\n  var num=this.numero;\r\n \r\n    console.log(num)\r\n  autoTable(doc,{\r\n    startY:75,\r\n    head:col,\r\n    body:rows,\r\n    foot:f,\r\n     margin:{ horizontal:10},\r\n     styles:{overflow:\"linebreak\"},\r\n     bodyStyles:{valign:\"top\"},\r\n     theme:\"striped\",\r\n     didDrawPage: function(data){\r\n      //this.bon.ipm_employe=this.message;\r\n      doc.addImage(imgData ,'JPEG',15,5,30,30)\r\n     doc.setFontSize(15)\r\n     doc.text(\"\",72,46)\r\n    // doc.text(\"Bon Pharmacie:Institut prévoyance de maladie de la poste\",50,30)\r\n    doc.setLineWidth(2)\r\n    doc.setDrawColor(\"#3A6EA5\")\r\n    doc.rect(60,30,100,15)\r\n    doc.setFillColor(240,240,240)\r\n    //  doc.rect(13,40,185,32,'F')\r\n    //  doc.setFillColor(240,240,240)\r\n     \r\n     doc.setFontSize(15)\r\n     doc.setTextColor(\"#3A6EA5\")\r\n     doc.text(\"Duplicata Facture\",77,40)\r\n     doc.setTextColor(\"\")\r\n      const date=new Date()\r\n         doc.setFontSize(13)\r\n          doc.text(\"Dakar, le :\",150,18)\r\n          doc.text(\"Numero Facture:\",15,60)\r\n          doc.text(''+num,50,60)\r\n          doc.text(\"Prestataire:\",15,72) \r\n          doc.text(\"\"+prestataire,40,72)     \r\n      doc.text(date.toLocaleDateString(\"fr-FR\"),172,18)\r\n         doc.setFontSize(12)\r\n\r\n     }\r\n  });\r\n  \r\n  doc.output('dataurlnewwindow');\r\n\r\n\r\n}\r\n/////////////////Fin Duplicata Facture \r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}